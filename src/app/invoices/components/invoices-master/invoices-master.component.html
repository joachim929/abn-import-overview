<main class="container column-container">
  <section class="content invoice-and-filters">
    <mat-card class="filter-container">
      <button mat-raised-button class="my-1">Import</button>
      <button mat-raised-button class="my-1">Assign mode</button>
      <h3>Filter</h3>
    </mat-card>
    <div class="invoice-items-overflow">
      <ng-container *ngFor="let invoice of invoices$ | async">
        <mat-card class="invoice-item">
          <div class="invoice-detail-container">
            <p>Account number: {{invoice.accountNumber}}</p>
            <p>Amount: {{invoice.amount | currency: 'EUR'}}</p>
            <p>Description: {{invoice.description}}</p>
            <p>Start balance: {{invoice.startBalance | currency: 'EUR'}}</p>
            <p>End balance: {{invoice.endBalance | currency: 'EUR'}}</p>
            <p>Transaction date: {{invoice.transactionDate | date}}</p>
          </div>
          <div class="column-container">
            <button (click)="patch(invoice)"
                    aria-label="Edit button"
                    mat-icon-button>
              <mat-icon>edit</mat-icon>
            </button>
            <button (click)="split(invoice)"
                    aria-label="Split button"
                    mat-icon-button>
              <mat-icon *ngIf="splitItem?.id !== invoice.id">file_copy</mat-icon>
              <mat-icon *ngIf="splitItem?.id === invoice.id">close</mat-icon>
            </button>
            <button (click)="remove(invoice.id)"
                    aria-label="Delete button"
                    mat-icon-button
                    color="warn">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </mat-card>

        <app-invoice-split [hidden]="splitItem?.id !== invoice.id"
                           [ocInvoice]="invoice"></app-invoice-split>
      </ng-container>
    </div>
  </section>

</main>
