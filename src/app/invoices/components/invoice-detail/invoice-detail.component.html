<mat-card class="invoice-item">
  <form [formGroup]="form" class="invoice-detail-container">
    <p>Account number: {{invoice.accountNumber}}</p>
    <p>Amount: {{invoice.amount | customCurrency}}</p>
    <p *ngIf="!editInProgress">Description: {{invoice.description}}</p>
    <app-mat-input *ngIf="editInProgress"
                   placeholder="Description..."
                   label="Description"
                   [control]="form.get('description')"></app-mat-input>
    <p *ngIf="invoice.comment && !editInProgress">Comment: {{invoice.comment}}</p>
    <app-mat-input *ngIf="editInProgress"
                   placeholder="Comment..."
                   label="Comment"
                   [control]="form.get('comment')"></app-mat-input>
    <p>Start balance: {{invoice.startBalance | customCurrency}}</p>
    <p>End balance: {{invoice.endBalance | customCurrency}}</p>
    <p>Transaction date: {{invoice.transactionDate | date}}</p>
  </form>
  <div class="column-container invoice-controls-container">
    <button (click)="patch(invoice)"
            aria-label="Edit button"
            mat-icon-button>
      <mat-icon [class.hide-icon]="editInProgress">edit</mat-icon>
      <mat-icon [class.hide-icon]="!editInProgress">save</mat-icon>
    </button>
    <button (click)="split(invoice)"
            aria-label="Split button"
            mat-icon-button>
      <mat-icon *ngIf="splitItem?.id !== invoice.id">file_copy</mat-icon>
      <mat-icon *ngIf="splitItem?.id === invoice.id">close</mat-icon>
    </button>
    <button (click)="remove(invoice.id)"
            aria-label="Delete button"
            mat-icon-button
            color="warn">
      <mat-icon>delete</mat-icon>
    </button>
  </div>
</mat-card>
<app-invoice-split [hidden]="splitItem?.id !== invoice.id"
                   [ocInvoice]="invoice"></app-invoice-split>
